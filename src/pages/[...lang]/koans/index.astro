---
import BlogCard from "@/components/BlogCard.astro";
import Pagination from "@/components/Pagination.astro";
import config from "@/config/config.json";
import Base from "@/layouts/Base.astro";
import { getListPage, getSinglePage } from "@/lib/contentParser.astro";
import { getAllTaxonomy, getTaxonomy } from "@/lib/taxonomyParser.astro";
import { supportedLang } from "@/lib/utils/languageParser";
import { sortByDate } from "@/lib/utils/sortFunctions";
import PageHeader from "@/partials/PageHeader.astro";
import PostSidebar from "@/partials/PostSidebar.astro";
import type { ContentEntryMap } from "astro:content";

export function getStaticPaths() {
  const paths = supportedLang.map((lang) => ({
    params: { lang: lang || undefined },
  }));
  return paths;
}
const { lang } = Astro.params;
const BLOG_FOLDER = "koans";
const postIndex = await getListPage(
  BLOG_FOLDER,
  lang as keyof ContentEntryMap
);
const langCollection: keyof ContentEntryMap = lang as keyof ContentEntryMap;
const posts = await getSinglePage(BLOG_FOLDER, lang as keyof ContentEntryMap);

const tags = await getTaxonomy(langCollection, "tags");
const sortedPosts = sortByDate(posts);
const totalPages: number = Math.ceil(posts.length / config.settings.pagination);
const currentPosts = sortedPosts.slice(0, config.settings.pagination);
---

<Base
  title={postIndex[0].data.title}
  meta_title={postIndex[0].data.meta_title}
  image={postIndex[0].data.image}
  description={postIndex[0].data.description}
>
  <PageHeader title={postIndex[0].data.title} />

  <section class="section" style="padding-top: 0">
    <div class="container">
      <div style="margin-block: 24px">
        <h4>PhÃ¡p thÃ¢n cÃ´ng Ã¡n</h4>
        <p>Chá»‰ cÃ¡c loáº¡i cÃ´ng Ã¡n cÃ³ thá»ƒ giÃºp Ä‘á»¡ thiá»n sinh chá»‰ má»™t bÆ°á»›c má»™t vÆ°á»£t tháº¿ giá»›i nhá»‹ nguyÃªn, láº§n Ä‘áº§u chá»©ng ngá»™ trá»±c tiáº¿p PhÃ¡p thÃ¢n, Pháº­t tÃ­nh theo TÃ¢m kinh thÃ¬ gá»i lÃ  "Sáº¯c tá»©c lÃ  KhÃ´ng".
          Ráº¥t nhiá»u cÃ´ng Ã¡n trong cÃ¡c táº­p danh tiáº¿ng Ä‘Æ°á»£c xáº¿p vÃ o loáº¡i nÃ y mÃ  ná»•i danh nháº¥t cÃ³ láº½ lÃ  cÃ´ng Ã¡n thá»© nháº¥t cá»§a táº­p VÃ´ mÃ´n quan vá»›i tÃªn "Con chÃ³ cá»§a Triá»‡u ChÃ¢u" (Triá»‡u ChÃ¢u cáº©u tá»­ è¶™å·ç‹—å­).
        </p>
        <h4>CÆ¡ quan cÃ´ng Ã¡n</h4>
        <p>Má»¥c Ä‘Ã­ch cá»§a cÃ¡c PhÃ¡p thÃ¢n cÃ´ng Ã¡n lÃ  tháº¿ giá»›i báº¥t phÃ¢n biá»‡t, nhÆ°ng thiá»n sinh chÆ°a Ä‘Æ°á»£c dá»«ng chÃ¢n nÆ¡i Ä‘Ã¢y.
          CÆ¡ quan cÃ´ng Ã¡n hÆ°á»›ng dáº«n thiá»n sinh Ä‘áº¿n má»™t bÆ°á»›c ná»¯a, phÃ¢n biá»‡t trong tháº¿ giá»›i khÃ´ng phÃ¢n biá»‡t, ngá»™ Ä‘Æ°á»£c lÃ½ "KhÃ´ng tá»©c lÃ  Sáº¯c".
          ÄÆ°á»£c xáº¿p vÃ o loáº¡i nÃ y lÃ  cÃ´ng Ã¡n 17 vÃ  37 cá»§a VÃ´ mÃ´n quan.
        </p>
        <h4>NgÃ´n thuyÃªn cÃ´ng Ã¡n</h4>
        <p>Chá»‰ nhá»¯ng cÃ´ng Ã¡n mÃ  thiá»n sinh pháº£i tham quÃ¡n Ã½ nghÄ©a tá»™t cÃ¹ng cá»§a ngÃ´n ngá»¯ mÃ  chÆ° vá»‹ tiá»n bá»‘i sá»­ dá»¥ng hoáº±ng hoÃ¡ (ngÃ´n thuyÃªn nghÄ©a lÃ  ngÃ´n ngá»¯ giáº£i thÃ­ch kÄ© cÃ ng, trá»n váº¹n).
          CÃ¡c vá»‹ Thiá»n sÆ° sá»­ dá»¥ng ngÃ´n ngá»¯ ráº¥t tÃ i tÃ¬nh, Ä‘áº§y thi vá»‹ nhÆ°ng Ä‘iá»ƒm Ä‘áº·c sáº¯c nháº¥t lÃ  cÃ¡c ngÃ´n ngá»¯ nÃ y khÃ´ng há» dá»«ng bÆ°á»›c chá»‰ trong khuÃ´n khá»• tháº©m mÄ© mÃ  vÆ°á»£t qua cáº£ nÃ³, bao hÃ m Ã½ nghÄ©a cÃ¹ng tá»™t, trá»±c chá»‰ chÃ¢n lÃ½.
          Äáº¡i diá»‡n cho loáº¡i cÃ´ng Ã¡n nÃ y chÃ­nh lÃ  BÃ­ch nham lá»¥c cá»§a Thiá»n sÆ° ViÃªn Ngá»™.
          Má»™t sá»‘ cÃ´ng Ã¡n trong VÃ´ mÃ´n quan cÅ©ng Ä‘Æ°á»£c xáº¿p vÃ o loáº¡i nÃ y (21, 24, 27, 30, 33, 34).
        </p>
        <h4>Nan tháº¥u cÃ´ng Ã¡n</h4>
        <p>Chá»‰ nhá»¯ng cÃ´ng Ã¡n ráº¥t khÃ³ (nan) lÄ©nh há»™i (tháº¥u) vÃ¬ nhá»¯ng sá»± Ä‘á»‘i nghá»‹ch ngay trong trÆ°á»ng há»£p Ä‘Æ°á»£c trÃ¬nh bÃ y.
          CÃ¡c cÃ´ng Ã¡n thuá»™c loáº¡i nÃ y giÃºp thiá»n sinh khinh an tháº¥u rÃµ Ä‘Æ°á»£c sá»± vÃ´ ngáº¡i cá»§a sá»± váº­t, cÃ³ thá»ƒ nÃ³i theo giÃ¡o lÃ½ cá»§a Hoa nghiÃªm tÃ´ng lÃ  Sá»± sá»± vÃ´ ngáº¡i (zh. äº‹äº‹ç„¡ç¤™).
          ChÃ­nh sá»± chinh phá»¥c, tháº¥u hiá»ƒu lÃ½ nÃ y lÃ  yáº¿u tá»‘ cá»§a tÃ¢m tÆ° khinh an, tá»± do tá»± táº¡i mÃ  cÃ¡c báº­c giÃ¡c ngá»™ thá»¥ hÆ°á»Ÿng.
          Thiá»n sÆ° Báº¡ch áº¨n Huá»‡ Háº¡c thÆ°á»ng nháº¯c Ä‘áº¿n tÃ¡m cÃ´ng Ã¡n thuá»™c loáº¡i nÃ y mÃ  trong Ä‘Ã³ ba cÃ´ng Ã¡n náº±m trong táº­p VÃ´ mÃ´n quan, Ä‘Ã³ lÃ  táº¯c 13, 35, 38.
          CÃ´ng Ã¡n 38 nhÆ° sau: "NgÅ© Tá»• PhÃ¡p Diá»…n há»i chÃºng: VÃ­ nhÆ° con trÃ¢u Ä‘i qua khung cá»­a, Ä‘áº§u, sá»«ng, bá»‘n chÃ¢n Ä‘á»u lá»t, sao Ä‘uÃ´i láº¡i cháº³ng lá»t Ä‘Æ°á»£c?"
        </p>
        <h4>NgÅ© vá»‹ cÃ´ng Ã¡n</h4>
        <p>Chá»‰ cÃ¡c cÃ´ng Ã¡n cuá»‘i cÃ¹ng mÃ  thiá»n sinh pháº£i vÆ°á»£t qua. CÃ¡c cÃ´ng Ã¡n nÃ y cÃ³ liÃªn há»‡ trá»±c tiáº¿p vá»›i NgÅ© vá»‹ quÃ¢n tháº§n (Äá»™ng SÆ¡n ngÅ© vá»‹) cá»§a vá»‹ Khai tá»• tÃ´ng TÃ o Äá»™ng lÃ  Thiá»n sÆ° Äá»™ng SÆ¡n LÆ°Æ¡ng Giá»›i.
          Kinh nghiá»‡m giÃ¡c ngá»™ cá»§a thiá»n sinhâ€”Ä‘áº¡t Ä‘Æ°á»£c qua bá»‘n loáº¡i cÃ´ng Ã¡n trÆ°á»›câ€”Ä‘Æ°á»£c thá»­ thÃ¡ch láº§n cuá»‘i.
        </p>
        <h5 style="margin-block: 24px">
          ğŸª” LÃ  má»™t phÆ°Æ¡ng tiá»‡n tá»‘i trá»ng Ä‘á»ƒ Ä‘áº¡t giÃ¡c ngá»™, phÃ©p quÃ¡n cÃ´ng Ã¡n Ä‘Ã²i há»i 3 yáº¿u tá»‘ mÃ  thiá»n sinh pháº£i Ä‘áº¡t Ä‘Æ°á»£c, Ä‘Ã³ lÃ :
        </h5>
        <h6>ğŸ§¨ Äáº I PHáº¤N CHÃ </h6> lÃ  sá»± tinh tiáº¿n, kiÃªn trÃ¬ dÅ©ng mÃ£nh
        <h6>ğŸ§¨ Äáº I TÃN CÄ‚N </h6> cÃ³ niá»m tin tuyá»‡t Ä‘á»‘i vÃ o kháº£ nÄƒng giÃ¡c ngá»™ cá»§a chÃ­nh mÃ¬nh
 <h6>ğŸ§¨ Äáº I NGHI ÄOÃ€N </h6> nghi ngá» trong tráº¡ng thÃ¡i táº­p trung tÆ° tÆ°á»Ÿng tuyá»‡t Ä‘á»‘i
        <p> <em> CÃ¡c Ä‘iá»ƒm mÃ¢u thuáº«n trong cÃ´ng Ã¡n cÃ³ nhiá»‡m vá»¥ gia tÄƒng Äáº¡i nghi Ä‘oÃ n nÃ y vÃ  Thiá»n sÆ° Báº¡ch áº¨n báº£o ráº±ng: "Äáº¡i nghi - Äáº¡i ngá»™" (zh. å¤§ç–‘å¤§æ‚Ÿ), nghÄ©a lÃ  cÃ ng nghi nhiá»u, cÃ ng ngá»™ sÃ¢u </em> </p>
      </div>
      <div class="row gx-5">
        <!-- blog posts -->
        <div class="lg:col-8">
          <div class="row">
            {
              currentPosts.map((post) => (
                <div class="mb-14 md:col-6">
                  <BlogCard data={post} slugDefault="koans" />
                </div>
              ))
            }
          </div>
        </div>

        <!-- sidebar -->
        <PostSidebar
          tags={tags}
        />
      </div>
    </div>
  </section>
</Base>
